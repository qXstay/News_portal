{% extends 'default.html' %}
{% load i18n %}

{% block content %}
<div class="container mt-5">
    <h2>
        {% if form.instance.pk %}
            {% if post_type == 'news' %}{% trans "Edit news" %}{% else %}{% trans "Edit article" %}{% endif %}
        {% else %}
            {% if post_type == 'news' %}{% trans "Create news" %}{% else %}{% trans "Create article" %}{% endif %}
        {% endif %}
    </h2>

    <form method="post">
        {% csrf_token %}
        {{ form.non_field_errors }}

        <!-- Заголовок -->
        <div class="mb-3">
            {{ form.title.label_tag }}
            {{ form.title }}
            {{ form.title.errors }}
        </div>

        <!-- Контент -->
        <div class="mb-3">
            {{ form.content.label_tag }}
            {{ form.content }}
            {{ form.content.errors }}
        </div>

        <!-- Категории -->
        <div class="mb-3">
            <label class="form-label">{% trans "Categories" %} <span class="text-danger">*</span></label>
            <div class="border p-3">
                {{ form.categories }}
            </div>
            {{ form.categories.errors }}
        </div>

        <button type="submit" class="btn btn-primary">{% trans "Save" %}</button>
        <a href="{% if post_type == 'news' %}{% url 'news_list' %}{% else %}{% url 'article_list' %}{% endif %}" class="btn btn-secondary">{% trans "Cancel" %}</a>
    </form>
</div>
{% endblock %}